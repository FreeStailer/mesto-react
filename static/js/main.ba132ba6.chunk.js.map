{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DelCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","text","onClick","onCardClick","type","onDeleteCard","name","onCardLike","length","Main","curentUser","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","useEffect","handleEscapeClose","event","key","handleOverlayClose","target","classList","contains","document","addEventListener","removeEventListener","api","options","this","_headers","headers","_baseUrl","baseUrl","url","method","body","fetch","then","res","ok","json","Promise","reject","status","_fetch","values","JSON","stringify","place","cardId","takeCardLike","removeCardLike","authorization","PopupWithForm","id","popupId","title","formId","onSubmit","noValidate","children","buttonText","EditProfilePopup","setName","setDescription","useState","description","e","preventDefault","onUpdateUser","htmlFor","onChange","value","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeRef","linkRef","onAddCard","DelCardPopup","App","setUserData","getUserData","catch","err","console","log","setCards","getInitialCards","delCard","setDelCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDelPopupOpen","setIsDelPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","inputText","userData","patchUserData","patchUserAvatar","userCardData","addUserCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ba132ba6.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <header className=\"header\">\r\n        <div className=\"header__logo\"></div>\r\n        </header>\r\n    );\r\n  }\r\n  \r\nexport default Header; ","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete ${!isOwn ? 'card__delete_hidden' : ''}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : ''}`\r\n    );\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onDeleteCard(props.card)\r\n    }\r\n\r\n    return (\r\n            <li key={props.card._id} className=\"card\">\r\n                <img className=\"card__photo\" \r\n                    src={props.card.link} \r\n                    alt={props.card.text} \r\n                    onClick={() => {\r\n                        props.onCardClick(props.card);\r\n                    }} />\r\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\r\n                <div className=\"card__text\">\r\n                    <h2 className=\"card__title\">{props.card.name}</h2>\r\n                    <div className=\"card__like-container\">\r\n                        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                        <p className=\"card__like-data\">{props.card.likes.length}</p>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n    );\r\n  }\r\n  \r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n\r\n    const curentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <main className=\"main\">\r\n              <section className=\"profile\">\r\n                  <div className=\"profile__card\">\r\n                      <div className=\"profile__avatar\" style={{ backgroundImage: `url(${curentUser.avatar})` }}>\r\n                          <button className=\"profile__avatar profile__avatar-edit-button\" type=\"button\" onClick={props.onEditAvatar}></button>\r\n                      </div>\r\n                      <div className=\"profile__info\">\r\n                          <h1 className=\"profile__name\">{curentUser.name}</h1>\r\n                          <button type=\"button\" className=\"profile__button-edit\" onClick={props.onEditProfile}></button>\r\n                          <p className=\"profile__comment\">{curentUser.about}</p>\r\n                      </div>\r\n                  </div>\r\n                  <button type=\"button\" className=\"profile__button-add\" onClick={props.onAddPlace}></button>\r\n              </section>\r\n              <section>\r\n                  <ul className=\"cards\">\r\n                    {props.cards.map((card) => (\r\n                        <Card card={card} key={card._id} onCardClick={props.onCardClick} onDeleteCard={props.onDeleteCard} onCardLike={props.onCardLike} />\r\n                    ))}\r\n                  </ul>\r\n              </section>\r\n          </main>\r\n    );\r\n  }\r\n  \r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n              <p className=\"footer__copyright\">©2020 Mesto Russia</p>\r\n          </footer>\r\n    );\r\n  }\r\n  \r\nexport default Footer; ","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    const {isOpen, onClose} = props;\r\n    React.useEffect(() => {\r\n      if (!isOpen) return;\r\n      const handleEscapeClose = (event) => {\r\n        if (event.key === 'Escape') {\r\n          onClose();\r\n        }\r\n      };\r\n      const handleOverlayClose = (event) => {\r\n        if (event.target.classList.contains('modal') || event.target.classList.contains('modal__button-close')) {\r\n            onClose();\r\n            }\r\n      }\r\n      document.addEventListener(\"keydown\", handleEscapeClose);\r\n      document.addEventListener(\"mousedown\", handleOverlayClose);\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscapeClose);\r\n        document.removeEventListener(\"mousedown\", handleOverlayClose);\r\n      };\r\n    }, [isOpen, onClose]);\r\n\r\n    return (\r\n        <div className={`modal modal_viewer ${props.isOpen ? \"modal_open\" : \"\"}`}>\r\n            <div className=\"modal__content modal__content_viewer\">\r\n                <button type=\"button\" className=\"modal__button-close\" onClick={props.onClose}></button>\r\n                <img src={props.card != null ? props.card.link : ''} className=\"modal__photo\" alt={props.card.name} />\r\n                <h2 className=\"modal__title\">{props.card != null ? props.card.name : ''}</h2>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n  export default ImagePopup;","export class Api {\r\n    constructor(options) {\r\n        this._headers = options.headers;\r\n        this._baseUrl = options.baseUrl;\r\n    }\r\n\r\n    _fetch(url, method, body) {\r\n        return fetch(this._baseUrl + url, {\r\n            method: method,\r\n            headers: this._headers,\r\n            body: body\r\n        })\r\n        .then(res => {\r\n            if(res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибочка вышла: ${res.status}`);\r\n        });\r\n    }\r\n\r\n    //далее идут методы которые подставляюся в выше написанный метод\r\n    //получить список карточек\r\n    getInitialCards() {\r\n        return this._fetch('/cards', 'GET')\r\n    }\r\n\r\n    //добавить карточку\r\n    addUserCard(values) {\r\n        return this._fetch('/cards', 'POST', JSON.stringify({\r\n            name: values.place,\r\n            link: values.link\r\n        }))\r\n    }\r\n\r\n    //поставить лайк\r\n    takeCardLike(cardId) {\r\n        return this._fetch(`/cards/likes/${cardId}`, 'PUT')\r\n    }\r\n\r\n    //удалить лайк\r\n    removeCardLike(cardId) {\r\n        return this._fetch(`/cards/likes/${cardId}`, 'DELETE')\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if(isLiked) {\r\n            return this.takeCardLike(cardId)\r\n        } else {\r\n            return this.removeCardLike(cardId)\r\n        }\r\n    }\r\n\r\n    //удалить карточку\r\n    delCard(cardId) {\r\n        return this._fetch(`/cards/${cardId}`, 'DELETE')\r\n    }\r\n\r\n    //получить имя и професию с сервака\r\n    getUserData() {\r\n        return this._fetch('/users/me', 'GET')\r\n    }\r\n\r\n    //изменить имя и професию на серваке\r\n    patchUserData(values) {\r\n        return this._fetch('/users/me', 'PATCH', JSON.stringify({\r\n            name: values.name,\r\n            about: values.about\r\n        }))\r\n    }\r\n\r\n    // изменить аватарку на серваке\r\n    patchUserAvatar(values) {\r\n        return this._fetch('/users/me/avatar', 'PATCH', JSON.stringify({\r\n            avatar: values.avatar\r\n        }))\r\n    }\r\n}\r\n\r\n//база для поключения к WebAPI и использование класса\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    headers: {\r\n        authorization: '047d2b93-9a25-4779-80e5-3e6df788b9a7',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default api","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    const {isOpen, onClose} = props;\r\n    React.useEffect(() => {\r\n      if (!isOpen) return;\r\n      const handleEscapeClose = (event) => {\r\n        if (event.key === 'Escape') {\r\n          onClose();\r\n        }\r\n      };\r\n      const handleOverlayClose = (event) => {\r\n        if (event.target.classList.contains('modal') || event.target.classList.contains('modal__button-close')) {\r\n            onClose();\r\n            }\r\n      }\r\n      document.addEventListener(\"keydown\", handleEscapeClose);\r\n      document.addEventListener(\"mousedown\", handleOverlayClose);\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscapeClose);\r\n        document.removeEventListener(\"mousedown\", handleOverlayClose);\r\n      };\r\n    }, [isOpen, onClose]);\r\n\r\n    return (\r\n        <div id={props.popupId} className={`modal modal_profile ${props.isOpen ? \"modal_open\" : \"\"}`}>\r\n            <div className=\"modal__content\">\r\n                <button type=\"button\" className=\"modal__button-close\" onClick={props.onClose}></button>\r\n                <h2 className=\"modal__heading\">{props.title}</h2>\r\n                <form id={props.formId} onSubmit={props.onSubmit} className=\"form\" method=\"GET\" noValidate>\r\n                    <fieldset className=\"form__input\">\r\n                        {props.children}\r\n                        <button type=\"submit\" className=\"form__button\">{props.buttonText}</button>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n  export default PopupWithForm;","import PopupWithForm from './PopupWithForm.js';\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n    \r\n    const curentUser = React.useContext(CurrentUserContext);\r\n    React.useEffect(() => {\r\n        setName(curentUser.name);\r\n        setDescription(curentUser.about);\r\n    }, [curentUser]);\r\n\r\n    const [name, setName] = React.useState(`${curentUser.name}`);\r\n    const [description, setDescription] = React.useState(`${curentUser.about}`);\r\n\r\n    function handleSetName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleSetDescription(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} buttonText =\"Сохранить\" popupId=\"edit\" title=\"Редактировать профиль\" formId=\"edit-profile\">\r\n                <label htmlFor=\"name\" className=\"form__label\">\r\n                    <input onChange={handleSetName} value={name} placeholder=\"Имя\" type=\"text\" name=\"name\" id=\"name\" className=\"form__item\" required minLength=\"2\" maxLength=\"40\" />\r\n                    <span className=\"form__input-error\" id=\"name-error\" />\r\n                </label>\r\n                <label htmlFor=\"about\" className=\"form__label\">\r\n                    <input onChange={handleSetDescription} value={description} placeholder=\"комментарии\" type=\"text\" id=\"about\" name=\"about\" className=\"form__item\" required minLength=\"2\" maxLength=\"200\" />        \r\n                    <span className=\"form__input-error\" id=\"about-error\" />\r\n                </label>\r\n        </PopupWithForm>\r\n    );\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({avatar: avatarRef.current.value,});\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} \r\n                       buttonText=\"Сохранить\" popupId=\"avatar-add\" title=\"Обновить аватар\" formId=\"load-avatar\">\r\n            <label htmlFor=\"avatar\" className=\"form__label\">\r\n                <input ref={avatarRef} type=\"url\" id=\"avatar\" name=\"avatar\" className=\"form__item\" placeholder=\"Ссылка на аватар\" required />&nbsp;         \r\n                <span className=\"form__input-error\" id=\"avatar-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const placeRef = React.useRef();\r\n    const linkRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddCard({place: placeRef.current.value,\r\n                         link: linkRef.current.value\r\n                        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} buttonText=\"Создать\" \r\n                       popupId=\"photo-add\" title=\"Новое место\" formId=\"load-cards\">\r\n            <label htmlFor=\"place\" className=\"form__label\">\r\n                <input ref={placeRef} type=\"text\" name=\"place\" id=\"place\" className=\"form__item\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" />\r\n                <span className=\"form__input-error\" id=\"place-error\"></span>\r\n            </label>\r\n            <label htmlFor=\"photo\" className=\"form__label\">\r\n                <input ref={linkRef} type=\"url\" id=\"photo\" name=\"link\" className=\"form__item\" placeholder=\"Ссылка на картинку\" required/>         \r\n                <span className=\"form__input-error\" id=\"link-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction DelCardPopup(props) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onDeleteCard();\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} buttonText=\"Да\" \r\n                       popupId=\"del-popup\" title=\"Вы уверены?\" formId=\"del-popup\">\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default DelCardPopup","import React from 'react';\nimport '../index.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport DelCardPopup from './DelCardPopup.js';\n\nfunction App() {\n\nconst [currentUser, setUserData] = React.useState({name: '', about: '', avatar: ''});\n\nReact.useEffect(() => {\n    api.getUserData()\n    .then((res) =>{\n        setUserData(res)\n    }).catch((err) =>{\n        console.log('Ошибка в эфекте стейта юзера: ', err)\n    })\n}, [])\n\nconst [cards, setCards] = React.useState([]);\nfunction handleCardLike(card) {\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n    }).catch((err) => {\n        console.log(err);\n    });\n}\n\nReact.useEffect(() => {\n    api.getInitialCards()\n    .then((res) => {\n        setCards(res)\n    }).catch((err) => {\n        console.log('Ошибка в получении карточек', err)\n    })\n}, [])\n\nconst [delCard, setDelCard] = React.useState(null);\n\nfunction handleCardDelete() {\n    api.delCard(delCard._id).then(() => {\n        const newCards = cards.filter((c) => c._id !== delCard._id);\n        setCards(newCards);\n        closeAllPopups()\n    }).catch((err) => {\n        console.log(err);\n    })\n}\n\nfunction handleUpdateUser(userData) {\n    api.patchUserData(userData)\n    .then((res) => {\n        setUserData(res);\n        closeAllPopups()\n    }).catch((err) => {\n        console.log('Ошибка в хандле апдейт юзер', err)\n    })\n}\n\nfunction handleUpdateAvatar(userData) {\n    api.patchUserAvatar(userData)\n    .then((res) => {\n        setUserData(res);\n        closeAllPopups();\n    }).catch((err) => {\n        console.log('Ошибка в хандле апдейт аватарки', err)\n    })\n}\n\nfunction handleAddPlaceSubmit(userCardData) {\n    api.addUserCard(userCardData)\n    .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n    }).catch((err) => {\n        console.log('Ошибка в добавлении карточки на сервер', err)\n    })\n}\n\n//из предыдущего спринта:\nconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\nfunction handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n}\n\nconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\nfunction handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n}\n\nconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\nfunction handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n}\n\nconst [isDelPopupOpen, setIsDelPopupOpen] = React.useState(false);\nfunction handleDelClick(card) {\n    setIsDelPopupOpen(true)\n    setDelCard(card)\n}\n\n\nconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\nconst [selectedCard, setSelectedCard] = React.useState({});\nfunction handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n}\n\nfunction closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsImagePopupOpen(false)\n    setIsDelPopupOpen(false)\n}\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page__content\">\n            <Header />\n            <Main cards={cards} onCardLike={handleCardLike} onDeleteCard={handleDelClick}\n                  onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} \n                  onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n            <Footer />\n\n            <EditProfilePopup inputText={currentUser} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n            \n            <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n            \n            <AddPlacePopup onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n            \n            <DelCardPopup onDeleteCard={handleCardDelete} isOpen={isDelPopupOpen} onClose={closeAllPopups} />\n            \n            <ImagePopup isOpen={isImagePopupOpen} card={selectedCard} onClose={closeAllPopups}/>\n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}